{% extends theme("base/base.html") %}

{% block content %}
<div class="container">
    <h2>{% trans %}Upgrade Devices{% endtrans %}</h2>
    <div class="panel panel-default">
      <div class="panel-body">
          <p>{% trans %}Upgrade devices are devices created for a client version which is no more detected by Domogik, but a newer version is detected.{% endtrans %}</p>
          <p>{% trans %}The devices below need manual intervention to make sure they still work correctly after the plugin is restarted.{% endtrans %}</p>
      </div>
    </div>
    {% if devices|length > 0 %}
      <table class="table table-striped table-hover table-condensed">
            <thead>
                    <tr>
                        <th scope="col">{% trans %}ID{% endtrans %}</td>
                        <th scope="col">{% trans %}Client{% endtrans %}</td>
                        <th scope="col">{% trans %}Name{% endtrans %}</td>
                        <th scope="col">{% trans %}Device Type{% endtrans %}</td>
                        <th scope="col">{% trans %}Description{% endtrans %}</td>
                        <th scope="col">{% trans %}Details{% endtrans %}</td>
                    </tr>
            </thead>
            <tbody>
            {% for data in devices %}
                    <tr>
                            <td>{{ data.id }}</td>
                            <td>{{ data.client_id }}</td>
                            <td>{{ data.name }}</td>
                            <td>{{ data.device_type_id }}</td>
                            <td>{{ data.description }}</td>
                            <td>
                                <a href="/upgrade/{{ data.id }}">Upgrade</a>
                            </td>
                    </tr>
            {% endfor %}
            </tbody>
        </table>
    {% else %}
    <div class="alert alert-success">{% trans %}Hooray, no upgrades needed{% endtrans %}</div>
    {% endif %}
</div>
{% endblock %}
